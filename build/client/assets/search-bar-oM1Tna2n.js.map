{"version":3,"file":"search-bar-oM1Tna2n.js","sources":["../../../app/components/search-bar.tsx"],"sourcesContent":["import { useId } from 'react'\nimport { Form, useSearchParams, useSubmit } from 'react-router'\nimport { useDebounce, useIsPending } from '#app/utils/misc.tsx'\nimport { Icon } from './ui/icon.tsx'\nimport { Input } from './ui/input.tsx'\nimport { Label } from './ui/label.tsx'\nimport { StatusButton } from './ui/status-button.tsx'\n\nexport function SearchBar({\n\tstatus,\n\tautoFocus = false,\n\tautoSubmit = false,\n}: {\n\tstatus: 'idle' | 'pending' | 'success' | 'error'\n\tautoFocus?: boolean\n\tautoSubmit?: boolean\n}) {\n\tconst id = useId()\n\tconst [searchParams] = useSearchParams()\n\tconst submit = useSubmit()\n\tconst isSubmitting = useIsPending({\n\t\tformMethod: 'GET',\n\t\tformAction: '/users',\n\t})\n\n\tconst handleFormChange = useDebounce(async (form: HTMLFormElement) => {\n\t\tawait submit(form)\n\t}, 400)\n\n\treturn (\n\t\t<Form\n\t\t\tmethod=\"GET\"\n\t\t\taction=\"/users\"\n\t\t\tclassName=\"flex flex-wrap items-center justify-center gap-2\"\n\t\t\tonChange={(e) => autoSubmit && handleFormChange(e.currentTarget)}\n\t\t>\n\t\t\t<div className=\"flex-1\">\n\t\t\t\t<Label htmlFor={id} className=\"sr-only\">\n\t\t\t\t\tSearch\n\t\t\t\t</Label>\n\t\t\t\t<Input\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tname=\"search\"\n\t\t\t\t\tid={id}\n\t\t\t\t\tdefaultValue={searchParams.get('search') ?? ''}\n\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\tautoFocus={autoFocus}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<StatusButton\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tstatus={isSubmitting ? 'pending' : status}\n\t\t\t\t\tclassName=\"flex w-full items-center justify-center\"\n\t\t\t\t>\n\t\t\t\t\t<Icon name=\"magnifying-glass\" size=\"md\" />\n\t\t\t\t\t<span className=\"sr-only\">Search</span>\n\t\t\t\t</StatusButton>\n\t\t\t</div>\n\t\t</Form>\n\t)\n}\n"],"names":["SearchBar","status","autoFocus","autoSubmit","id","useId","searchParams","useSearchParams","submit","useSubmit","isSubmitting","useIsPending","handleFormChange","useDebounce","form","jsxs","Form","jsx","Label","Input","StatusButton","Icon"],"mappings":"0PAQO,SAASA,EAAU,CACzB,OAAAC,EACA,UAAAC,EAAY,GACZ,WAAAC,EAAa,EACd,EAIG,CACF,MAAMC,EAAKC,EAAAA,MAAA,EACL,CAACC,CAAY,EAAIC,EAAA,EACjBC,EAASC,EAAA,EACTC,EAAeC,EAAa,CACjC,WAAY,MACZ,WAAY,QAAA,CACZ,EAEKC,EAAmBC,EAAY,MAAOC,GAA0B,CACrE,MAAMN,EAAOM,CAAI,CAAA,EACf,GAAG,EAEN,OACCC,EAAAA,KAACC,EAAA,CACA,OAAO,MACP,OAAO,SACP,UAAU,mDACV,SAAW,GAAMb,GAAcS,EAAiB,EAAE,aAAa,EAE/D,SAAA,CAAAG,EAAAA,KAAC,MAAA,CAAI,UAAU,SACd,SAAA,CAAAE,MAACC,EAAA,CAAM,QAASd,EAAI,UAAU,UAAU,SAAA,SAExC,EACAa,EAAAA,IAACE,EAAA,CACA,KAAK,SACL,KAAK,SACL,GAAAf,EACA,aAAcE,EAAa,IAAI,QAAQ,GAAK,GAC5C,YAAY,SACZ,UAAU,SACV,UAAAJ,CAAA,CAAA,CACD,EACD,QACC,MAAA,CACA,SAAAa,EAAAA,KAACK,EAAA,CACA,KAAK,SACL,OAAQV,EAAe,UAAYT,EACnC,UAAU,0CAEV,SAAA,CAAAgB,EAAAA,IAACI,EAAA,CAAK,KAAK,mBAAmB,KAAK,KAAK,EACxCJ,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,QAAA,CAAM,CAAA,CAAA,CAAA,CACjC,CACD,CAAA,CAAA,CAAA,CAGH"}