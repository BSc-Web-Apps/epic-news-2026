{"version":3,"file":"error-boundary-DyX_TQyi.js","sources":["../../../app/components/error-boundary.tsx"],"sourcesContent":["import { captureException } from '@sentry/react-router'\nimport { useEffect, type ReactElement } from 'react'\nimport {\n\ttype ErrorResponse,\n\tisRouteErrorResponse,\n\tuseParams,\n\tuseRouteError,\n} from 'react-router'\nimport { getErrorMessage } from '#app/utils/misc'\n\ntype StatusHandler = (info: {\n\terror: ErrorResponse\n\tparams: Record<string, string | undefined>\n}) => ReactElement | null\n\nexport function GeneralErrorBoundary({\n\tdefaultStatusHandler = ({ error }) => (\n\t\t<p>\n\t\t\t{error.status} {error.data}\n\t\t</p>\n\t),\n\tstatusHandlers,\n\tunexpectedErrorHandler = (error) => <p>{getErrorMessage(error)}</p>,\n}: {\n\tdefaultStatusHandler?: StatusHandler\n\tstatusHandlers?: Record<number, StatusHandler>\n\tunexpectedErrorHandler?: (error: unknown) => ReactElement | null\n}) {\n\tconst error = useRouteError()\n\tconst params = useParams()\n\tconst isResponse = isRouteErrorResponse(error)\n\n\tif (typeof document !== 'undefined') {\n\t\tconsole.error(error)\n\t}\n\n\tuseEffect(() => {\n\t\tif (isResponse) return\n\n\t\tcaptureException(error)\n\t}, [error, isResponse])\n\n\treturn (\n\t\t<div className=\"text-h2 container flex items-center justify-center p-20\">\n\t\t\t{isResponse\n\t\t\t\t? (statusHandlers?.[error.status] ?? defaultStatusHandler)({\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tparams,\n\t\t\t\t\t})\n\t\t\t\t: unexpectedErrorHandler(error)}\n\t\t</div>\n\t)\n}\n"],"names":["GeneralErrorBoundary","defaultStatusHandler","error","statusHandlers","unexpectedErrorHandler","getErrorMessage","useRouteError","params","useParams","isResponse","isRouteErrorResponse","useEffect","captureException","jsx"],"mappings":"6JAeO,SAASA,EAAqB,CACpC,qBAAAC,EAAuB,CAAC,CAAE,MAAAC,CAAA,WACxB,IAAA,CACC,SAAA,CAAAA,EAAM,OAAO,IAAEA,EAAM,IAAA,EACvB,EAED,eAAAC,EACA,uBAAAC,EAA0BF,SAAW,IAAA,CAAG,SAAAG,EAAgBH,CAAK,CAAA,CAAE,CAChE,EAIG,CACF,MAAMA,EAAQI,EAAA,EACRC,EAASC,EAAA,EACTC,EAAaC,EAAqBR,CAAK,EAE7C,OAAI,OAAO,SAAa,KACvB,QAAQ,MAAMA,CAAK,EAGpBS,EAAAA,UAAU,IAAM,CACXF,GAEJG,EAAiBV,CAAK,CAAA,EACpB,CAACA,EAAOO,CAAU,CAAC,EAGrBI,MAAC,OAAI,UAAU,0DACb,YACGV,IAAiBD,EAAM,MAAM,GAAKD,GAAsB,CACzD,MAAAC,EACA,OAAAK,CAAA,CACA,EACAH,EAAuBF,CAAK,EAChC,CAEF"}