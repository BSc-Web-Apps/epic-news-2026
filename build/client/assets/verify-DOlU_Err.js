import{w as P,a as b,b as v,j as e,F}from"./chunk-UH6JLGW7-vC5r3Eub.js";import{H as N}from"./honeypot-B1mKHLUw.js";import{G as T}from"./error-boundary-DyX_TQyi.js";import{E as S,O as w}from"./forms-D7XpjJLD.js";import{S as E}from"./spacer-CWmOD1GL.js";import{S as C}from"./status-button-hfmu5Em_.js";import{b as V}from"./misc-CB38qpgG.js";import{u as B,g as I,a}from"./helpers-Ch5Ym2hM.js";import{g as Q}from"./constraint-cuuFo8uo.js";import{p as k}from"./parse-Bbiqquwr.js";import{e as O,o as R,s as m}from"./types-kDhgxygl.js";import"./debug-build-DiXn8T-e.js";import"./index-Bn1b60ek.js";import"./index-C2xojAqc.js";import"./index-BlK1szso.js";import"./dom--0h4o3Zv.js";import"./button-BP3wkmPp.js";import"./icon-C3K2m46L.js";import"./tooltip-fkOurSWR.js";const se={getSitemapEntries:()=>null},t="code",c="target",d="type",l="redirectTo",W=["onboarding","reset-password","change-email","2fa"],x=O(W),f=R({[t]:m().min(6).max(6),[d]:x,[c]:m(),[l]:m().optional()}),oe=P(function({actionData:h}){const[s]=v(),p=V(),u=x.safeParse(s.get(d)),i=u.success?u.data:null,n=e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-h1",children:"Check your email"}),e.jsx("p",{className:"text-body-md text-muted-foreground mt-3",children:"We've sent you a code to verify your email address."})]}),g={onboarding:n,"reset-password":n,"change-email":n,"2fa":e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-h1",children:"Check your 2FA app"}),e.jsx("p",{className:"text-body-md text-muted-foreground mt-3",children:"Please enter your 2FA code to verify your identity."})]})},[o,r]=B({id:"verify-form",constraint:Q(f),lastResult:h?.result,onValidate({formData:j}){return k(j,{schema:f})},defaultValue:{code:s.get(t),type:i,target:s.get(c),redirectTo:s.get(l)}});return e.jsxs("main",{className:"container flex flex-col justify-center pt-20 pb-32",children:[e.jsx("div",{className:"text-center",children:i?g[i]:"Invalid Verification Type"}),e.jsx(E,{size:"xs"}),e.jsxs("div",{className:"mx-auto flex w-72 max-w-full flex-col justify-center gap-1",children:[e.jsx("div",{children:e.jsx(S,{errors:o.errors,id:o.errorId})}),e.jsx("div",{className:"flex w-full gap-2",children:e.jsxs(F,{method:"POST",...I(o),className:"flex-1",children:[e.jsx(N,{}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(w,{labelProps:{htmlFor:r[t].id,children:"Code"},inputProps:{...a(r[t],{type:"text"}),autoComplete:"one-time-code",autoFocus:!0},errors:r[t].errors})}),e.jsx("input",{...a(r[d],{type:"hidden"})}),e.jsx("input",{...a(r[c],{type:"hidden"})}),e.jsx("input",{...a(r[l],{type:"hidden"})}),e.jsx(C,{className:"w-full",status:p?"pending":o.status??"idle",type:"submit",disabled:p,children:"Submit"})]})})]})]})}),ae=b(function(){return e.jsx(T,{})});export{ae as ErrorBoundary,oe as default,se as handle};
//# sourceMappingURL=verify-DOlU_Err.js.map
