{"version":3,"file":"helpers-Ch5Ym2hM.js","sources":["../../../node_modules/@conform-to/dom/dist/_virtual/_rollupPluginBabelHelpers.mjs","../../../node_modules/@conform-to/dom/dist/formdata.mjs","../../../node_modules/@conform-to/dom/dist/submission.mjs","../../../node_modules/@conform-to/dom/dist/form.mjs","../../../node_modules/@conform-to/react/dist/_virtual/_rollupPluginBabelHelpers.mjs","../../../node_modules/@conform-to/react/dist/context.mjs","../../../node_modules/@conform-to/react/dist/hooks.mjs","../../../node_modules/@conform-to/react/dist/helpers.mjs"],"sourcesContent":["function ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nexport { _defineProperty as defineProperty, _objectSpread2 as objectSpread2, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey };\n","/**\n * Construct a form data with the submitter value.\n * It utilizes the submitter argument on the FormData constructor from modern browsers\n * with fallback to append the submitter value in case it is not unsupported.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/FormData/FormData#parameters\n */\nfunction getFormData(form, submitter) {\n  var payload = new FormData(form, submitter);\n  if (submitter && submitter.type === 'submit' && submitter.name !== '') {\n    var entries = payload.getAll(submitter.name);\n\n    // This assumes the submitter value to be always unique, which should be fine in most cases\n    if (!entries.includes(submitter.value)) {\n      payload.append(submitter.name, submitter.value);\n    }\n  }\n  return payload;\n}\n\n/**\n * Returns the paths from a name based on the JS syntax convention\n * @example\n * ```js\n * const paths = getPaths('todos[0].content'); // ['todos', 0, 'content']\n * ```\n */\nfunction getPaths(name) {\n  if (!name) {\n    return [];\n  }\n  return name.split(/\\.|(\\[\\d*\\])/).reduce((result, segment) => {\n    if (typeof segment !== 'undefined' && segment !== '' && segment !== '__proto__' && segment !== 'constructor' && segment !== 'prototype') {\n      if (segment.startsWith('[') && segment.endsWith(']')) {\n        var index = segment.slice(1, -1);\n        result.push(Number(index));\n      } else {\n        result.push(segment);\n      }\n    }\n    return result;\n  }, []);\n}\n\n/**\n * Returns a formatted name from the paths based on the JS syntax convention\n * @example\n * ```js\n * const name = formatPaths(['todos', 0, 'content']); // \"todos[0].content\"\n * ```\n */\nfunction formatPaths(paths) {\n  return paths.reduce((name, path) => {\n    if (typeof path === 'number') {\n      return \"\".concat(name, \"[\").concat(Number.isNaN(path) ? '' : path, \"]\");\n    }\n    if (name === '' || path === '') {\n      return [name, path].join('');\n    }\n    return [name, path].join('.');\n  }, '');\n}\n\n/**\n * Format based on a prefix and a path\n */\nfunction formatName(prefix, path) {\n  return typeof path !== 'undefined' ? formatPaths([...getPaths(prefix), path]) : prefix !== null && prefix !== void 0 ? prefix : '';\n}\n\n/**\n * Check if a name match the prefix paths\n */\nfunction isPrefix(name, prefix) {\n  var paths = getPaths(name);\n  var prefixPaths = getPaths(prefix);\n  return paths.length >= prefixPaths.length && prefixPaths.every((path, index) => paths[index] === path);\n}\n\n/**\n * Compare the parent and child paths to get the relative paths\n * Returns null if the child paths do not start with the parent paths\n */\nfunction getChildPaths(parentNameOrPaths, childName) {\n  var parentPaths = typeof parentNameOrPaths === 'string' ? getPaths(parentNameOrPaths) : parentNameOrPaths;\n  var childPaths = getPaths(childName);\n  if (childPaths.length >= parentPaths.length && parentPaths.every((path, index) => childPaths[index] === path)) {\n    return childPaths.slice(parentPaths.length);\n  }\n  return null;\n}\n\n/**\n * Assign a value to a target object by following the paths\n */\nfunction setValue(target, name, valueFn) {\n  var paths = getPaths(name);\n  var length = paths.length;\n  var lastIndex = length - 1;\n  var index = -1;\n  var pointer = target;\n  while (pointer != null && ++index < length) {\n    var key = paths[index];\n    var nextKey = paths[index + 1];\n    var newValue = index != lastIndex ? Object.prototype.hasOwnProperty.call(pointer, key) && pointer[key] !== null ? pointer[key] : typeof nextKey === 'number' ? [] : {} : valueFn(pointer[key]);\n    pointer[key] = newValue;\n    pointer = pointer[key];\n  }\n}\n\n/**\n * Retrive the value from a target object by following the paths\n */\nfunction getValue(target, name) {\n  var pointer = target;\n  for (var path of getPaths(name)) {\n    if (typeof pointer === 'undefined' || pointer == null) {\n      break;\n    }\n    if (!Object.prototype.hasOwnProperty.call(pointer, path)) {\n      return;\n    }\n    if (isPlainObject(pointer) && typeof path === 'string') {\n      pointer = pointer[path];\n    } else if (Array.isArray(pointer) && typeof path === 'number') {\n      pointer = pointer[path];\n    } else {\n      return;\n    }\n  }\n  return pointer;\n}\n\n/**\n * Check if the value is a plain object\n */\nfunction isPlainObject(obj) {\n  return !!obj && obj.constructor === Object && Object.getPrototypeOf(obj) === Object.prototype;\n}\nfunction isGlobalInstance(obj, className) {\n  var Ctor = globalThis[className];\n  return typeof Ctor === 'function' && obj instanceof Ctor;\n}\n\n/**\n * Normalize value by removing empty object or array, empty string and null values\n */\n\nfunction normalize(value) {\n  var acceptFile = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  if (isPlainObject(value)) {\n    var obj = Object.keys(value).sort().reduce((result, key) => {\n      var data = normalize(value[key], acceptFile);\n      if (typeof data !== 'undefined') {\n        result[key] = data;\n      }\n      return result;\n    }, {});\n    if (Object.keys(obj).length === 0) {\n      return;\n    }\n    return obj;\n  }\n  if (Array.isArray(value)) {\n    if (value.length === 0) {\n      return undefined;\n    }\n    return value.map(item => normalize(item, acceptFile));\n  }\n  if (typeof value === 'string' && value === '' || value === null || isGlobalInstance(value, 'File') && (!acceptFile || value.size === 0)) {\n    return;\n  }\n  return value;\n}\n\n/**\n * Flatten a tree into a dictionary\n */\nfunction flatten(data) {\n  var _options$resolve;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var result = {};\n  var resolve = (_options$resolve = options.resolve) !== null && _options$resolve !== void 0 ? _options$resolve : data => data;\n  function process(data, prefix) {\n    var value = normalize(resolve(data));\n    if (typeof value !== 'undefined') {\n      result[prefix] = value;\n    }\n    if (Array.isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        process(data[i], \"\".concat(prefix, \"[\").concat(i, \"]\"));\n      }\n    } else if (isPlainObject(data)) {\n      for (var [key, _value] of Object.entries(data)) {\n        process(_value, prefix ? \"\".concat(prefix, \".\").concat(key) : key);\n      }\n    }\n  }\n  if (data) {\n    var _options$prefix;\n    process(data, (_options$prefix = options.prefix) !== null && _options$prefix !== void 0 ? _options$prefix : '');\n  }\n  return result;\n}\nfunction deepEqual(prev, next) {\n  if (prev === next) {\n    return true;\n  }\n  if (!prev || !next) {\n    return false;\n  }\n  if (Array.isArray(prev) && Array.isArray(next)) {\n    if (prev.length !== next.length) {\n      return false;\n    }\n    for (var i = 0; i < prev.length; i++) {\n      if (!deepEqual(prev[i], next[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (isPlainObject(prev) && isPlainObject(next)) {\n    var prevKeys = Object.keys(prev);\n    var nextKeys = Object.keys(next);\n    if (prevKeys.length !== nextKeys.length) {\n      return false;\n    }\n    for (var key of prevKeys) {\n      if (!Object.prototype.hasOwnProperty.call(next, key) ||\n      // @ts-expect-error FIXME\n      !deepEqual(prev[key], next[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\nexport { deepEqual, flatten, formatName, formatPaths, getChildPaths, getFormData, getPaths, getValue, isGlobalInstance, isPlainObject, isPrefix, normalize, setValue };\n","import { objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { formatName, setValue, isPlainObject, getValue, normalize, flatten, isPrefix } from './formdata.mjs';\nimport { invariant } from './util.mjs';\n\n/**\n * The name to be used when submitting a form control\n */\nvar INTENT = '__intent__';\n\n/**\n * The name to be used when submitting a state\n */\nvar STATE = '__state__';\nfunction getSubmissionContext(body) {\n  var intent = body.get(INTENT);\n  var state = body.get(STATE);\n  invariant((typeof intent === 'string' || intent === null) && (typeof state === 'string' || state === null), \"The input name \\\"\".concat(INTENT, \"\\\" and \\\"\").concat(STATE, \"\\\" are reserved by Conform. Please use another name for your input.\"));\n  var context = {\n    payload: {},\n    fields: new Set(),\n    intent: getIntent(intent)\n  };\n  if (state) {\n    context.state = JSON.parse(state);\n  }\n  var _loop = function _loop(next) {\n    if (name === INTENT || name === STATE) {\n      return 1; // continue\n    }\n    context.fields.add(name);\n    setValue(context.payload, name, prev => {\n      if (!prev) {\n        return next;\n      } else if (Array.isArray(prev)) {\n        return prev.concat(next);\n      } else {\n        return [prev, next];\n      }\n    });\n  };\n  for (var [name, next] of body.entries()) {\n    if (_loop(next)) continue;\n  }\n  return context;\n}\nfunction parse(payload, options) {\n  var context = getSubmissionContext(payload);\n  var intent = context.intent;\n  if (intent) {\n    switch (intent.type) {\n      case 'update':\n        {\n          var name = formatName(intent.payload.name, intent.payload.index);\n          var _value = intent.payload.value;\n          if (typeof intent.payload.value !== 'undefined') {\n            if (name) {\n              setValue(context.payload, name, () => _value);\n            } else {\n              context.payload = _value;\n            }\n          }\n          break;\n        }\n      case 'reset':\n        {\n          var _name = formatName(intent.payload.name, intent.payload.index);\n          if (_name) {\n            setValue(context.payload, _name, () => undefined);\n          } else {\n            context.payload = {};\n          }\n          break;\n        }\n      case 'insert':\n      case 'remove':\n      case 'reorder':\n        {\n          setListValue(context.payload, intent);\n          break;\n        }\n    }\n  }\n  var result = options.resolve(context.payload, intent);\n  var mergeResolveResult = resolved => createSubmission(_objectSpread2(_objectSpread2({}, context), {}, {\n    value: resolved.value,\n    error: resolved.error\n  }));\n  if (result instanceof Promise) {\n    return result.then(mergeResolveResult);\n  }\n  return mergeResolveResult(result);\n}\nfunction createSubmission(context) {\n  if (context.intent || !context.value || context.error) {\n    return {\n      status: !context.intent ? 'error' : undefined,\n      payload: context.payload,\n      error: typeof context.error !== 'undefined' ? context.error : {},\n      reply(options) {\n        return replySubmission(context, options);\n      }\n    };\n  }\n  return {\n    status: 'success',\n    payload: context.payload,\n    value: context.value,\n    reply(options) {\n      return replySubmission(context, options);\n    }\n  };\n}\nfunction replySubmission(context) {\n  var _context$intent, _context$intent$paylo, _options$formErrors, _ref;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if ('resetForm' in options && options.resetForm || ((_context$intent = context.intent) === null || _context$intent === void 0 ? void 0 : _context$intent.type) === 'reset' && ((_context$intent$paylo = context.intent.payload.name) !== null && _context$intent$paylo !== void 0 ? _context$intent$paylo : '') === '') {\n    return {\n      initialValue: null\n    };\n  }\n  if ('hideFields' in options && options.hideFields) {\n    for (var name of options.hideFields) {\n      var _value2 = getValue(context.payload, name);\n      if (typeof _value2 !== 'undefined') {\n        setValue(context.payload, name, () => undefined);\n      }\n    }\n  }\n  var extraError = 'formErrors' in options || 'fieldErrors' in options ? normalize(_objectSpread2({\n    '': (_options$formErrors = options.formErrors) !== null && _options$formErrors !== void 0 ? _options$formErrors : null\n  }, options.fieldErrors)) : null;\n  var error = context.error || extraError ? _objectSpread2(_objectSpread2({}, context.error), extraError) : undefined;\n  var initialValue = (_ref = normalize(context.payload,\n  // We can't serialize the file and send it back from the server, but we can preserve it in the client\n  typeof document !== 'undefined'\n  // We need the file on the client because it's treated as the form value\n  // But we will exclude the File type for now as it's only used by the internal\n  // form state and we will remove the need to preserve the file on the client soon\n  )) !== null && _ref !== void 0 ? _ref : {};\n  return {\n    status: context.intent ? undefined : error ? 'error' : 'success',\n    intent: context.intent ? context.intent : undefined,\n    initialValue,\n    error,\n    state: context.state,\n    fields: Array.from(context.fields)\n  };\n}\nfunction getIntent(serializedIntent) {\n  if (!serializedIntent) {\n    return null;\n  }\n  var control = JSON.parse(serializedIntent);\n  if (typeof control.type !== 'string' || typeof control.payload === 'undefined') {\n    throw new Error('Unknown form control intent');\n  }\n  return control;\n}\nfunction serializeIntent(intent) {\n  switch (intent.type) {\n    case 'insert':\n      return JSON.stringify({\n        type: intent.type,\n        payload: _objectSpread2(_objectSpread2({}, intent.payload), {}, {\n          defaultValue: serialize(intent.payload.defaultValue)\n        })\n      });\n    case 'update':\n      return JSON.stringify({\n        type: intent.type,\n        payload: _objectSpread2(_objectSpread2({}, intent.payload), {}, {\n          value: serialize(intent.payload.value)\n        })\n      });\n    default:\n      return JSON.stringify(intent);\n  }\n}\nfunction updateList(list, intent) {\n  var _intent$payload$index;\n  invariant(Array.isArray(list), \"Failed to update list. The value is not an array.\");\n  switch (intent.type) {\n    case 'insert':\n      list.splice((_intent$payload$index = intent.payload.index) !== null && _intent$payload$index !== void 0 ? _intent$payload$index : list.length, 0, intent.payload.defaultValue);\n      break;\n    case 'remove':\n      list.splice(intent.payload.index, 1);\n      break;\n    case 'reorder':\n      list.splice(intent.payload.to, 0, ...list.splice(intent.payload.from, 1));\n      break;\n    default:\n      throw new Error('Unknown list intent received');\n  }\n}\nfunction setListValue(data, intent) {\n  setValue(data, intent.payload.name, value => {\n    var list = value !== null && value !== void 0 ? value : [];\n    updateList(list, intent);\n    return list;\n  });\n}\n\n/**\n * A placeholder symbol for the root value of a nested object\n */\nvar root = Symbol.for('root');\nfunction setState(state, name, valueFn) {\n  // The keys are sorted in desc so that the root value is handled last\n  var keys = Object.keys(state).sort((prev, next) => next.localeCompare(prev));\n  var target = {};\n  var _loop2 = function _loop2() {\n    var value = state[_key];\n    if (isPrefix(_key, name) && _key !== name) {\n      setValue(target, _key, currentValue => {\n        if (typeof currentValue === 'undefined') {\n          return value;\n        }\n\n        // As the key should be unique, if currentValue is already defined,\n        // it must be either an object or an array\n\n        // @ts-expect-error\n        currentValue[root] = value;\n        return currentValue;\n      });\n\n      // Remove the value from the data\n      delete state[_key];\n    }\n  };\n  for (var _key of keys) {\n    _loop2();\n  }\n  var result = valueFn(getValue(target, name));\n  Object.assign(state, flatten(result, {\n    resolve(data) {\n      if (isPlainObject(data) || Array.isArray(data)) {\n        var _data$root;\n        // @ts-expect-error\n        return (_data$root = data[root]) !== null && _data$root !== void 0 ? _data$root : null;\n      }\n      return data;\n    },\n    prefix: name\n  }));\n}\nfunction setListState(state, intent, getDefaultValue) {\n  setState(state, intent.payload.name, value => {\n    var list = value !== null && value !== void 0 ? value : [];\n    switch (intent.type) {\n      case 'insert':\n        updateList(list, {\n          type: intent.type,\n          payload: _objectSpread2(_objectSpread2({}, intent.payload), {}, {\n            defaultValue: getDefaultValue === null || getDefaultValue === void 0 ? void 0 : getDefaultValue(intent.payload.defaultValue)\n          })\n        });\n        break;\n      default:\n        updateList(list, intent);\n        break;\n    }\n    return list;\n  });\n}\nfunction serialize(defaultValue) {\n  if (isPlainObject(defaultValue)) {\n    // @ts-expect-error FIXME\n    return Object.entries(defaultValue).reduce((result, _ref2) => {\n      var [key, value] = _ref2;\n      result[key] = serialize(value);\n      return result;\n    }, {});\n  } else if (Array.isArray(defaultValue)) {\n    // @ts-expect-error FIXME\n    return defaultValue.map(serialize);\n  } else if (defaultValue instanceof Date) {\n    // @ts-expect-error FIXME\n    return defaultValue.toISOString();\n  } else if (typeof defaultValue === 'boolean') {\n    // @ts-expect-error FIXME\n    return defaultValue ? 'on' : undefined;\n  } else if (typeof defaultValue === 'number' || typeof defaultValue === 'bigint') {\n    // @ts-expect-error FIXME\n    return defaultValue.toString();\n  } else {\n    // @ts-expect-error FIXME\n    return defaultValue !== null && defaultValue !== void 0 ? defaultValue : undefined;\n  }\n}\n\nexport { INTENT, STATE, createSubmission, getIntent, getSubmissionContext, parse, replySubmission, root, serialize, serializeIntent, setListState, setListValue, setState, updateList };\n","import { objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { flatten, formatName, getValue, isPlainObject, isPrefix, setValue, normalize, getFormData, getPaths, getChildPaths, formatPaths } from './formdata.mjs';\nimport { getFormAction, getFormEncType, getFormMethod, isFieldElement, requestSubmit, updateField } from './dom.mjs';\nimport { generateId, clone, invariant } from './util.mjs';\nimport { serialize, setListState, setListValue, setState, INTENT, serializeIntent, root, getSubmissionContext } from './submission.mjs';\n\nfunction createFormMeta(options, isResetting) {\n  var _lastResult$initialVa, _options$constraint, _lastResult$state$val, _lastResult$state, _ref;\n  var lastResult = !isResetting ? options.lastResult : undefined;\n  var defaultValue = options.defaultValue ? serialize(options.defaultValue) : {};\n  var initialValue = (_lastResult$initialVa = lastResult === null || lastResult === void 0 ? void 0 : lastResult.initialValue) !== null && _lastResult$initialVa !== void 0 ? _lastResult$initialVa : defaultValue;\n  var result = {\n    formId: options.formId,\n    pendingIntents: isResetting ? [{\n      type: 'reset',\n      payload: {}\n    }] : [],\n    isValueUpdated: false,\n    submissionStatus: lastResult === null || lastResult === void 0 ? void 0 : lastResult.status,\n    defaultValue,\n    initialValue,\n    value: initialValue,\n    constraint: (_options$constraint = options.constraint) !== null && _options$constraint !== void 0 ? _options$constraint : {},\n    validated: (_lastResult$state$val = lastResult === null || lastResult === void 0 || (_lastResult$state = lastResult.state) === null || _lastResult$state === void 0 ? void 0 : _lastResult$state.validated) !== null && _lastResult$state$val !== void 0 ? _lastResult$state$val : {},\n    key: !isResetting ? getDefaultKey(defaultValue) : _objectSpread2({\n      '': generateId()\n    }, getDefaultKey(defaultValue)),\n    // The `lastResult` should comes from the server which we won't expect the error to be null\n    // We can consider adding a warning if it happens\n    error: (_ref = lastResult === null || lastResult === void 0 ? void 0 : lastResult.error) !== null && _ref !== void 0 ? _ref : {}\n  };\n  handleIntent(result, lastResult === null || lastResult === void 0 ? void 0 : lastResult.intent, lastResult === null || lastResult === void 0 ? void 0 : lastResult.fields);\n  return result;\n}\nfunction getDefaultKey(defaultValue, prefix) {\n  return Object.entries(flatten(defaultValue, {\n    prefix\n  })).reduce((result, _ref2) => {\n    var [key, value] = _ref2;\n    if (Array.isArray(value)) {\n      for (var i = 0; i < value.length; i++) {\n        result[formatName(key, i)] = generateId();\n      }\n    }\n    return result;\n  }, {});\n}\nfunction setFieldsValidated(meta, fields) {\n  for (var _name of Object.keys(meta.error).concat(fields !== null && fields !== void 0 ? fields : [])) {\n    meta.validated[_name] = true;\n  }\n}\nfunction handleIntent(meta, intent, fields, initialized) {\n  var _fields$filter;\n  if (!intent) {\n    setFieldsValidated(meta, fields);\n    return;\n  }\n  switch (intent.type) {\n    case 'validate':\n      {\n        if (intent.payload.name) {\n          meta.validated[intent.payload.name] = true;\n        } else {\n          setFieldsValidated(meta, fields);\n        }\n        break;\n      }\n    case 'update':\n      {\n        var {\n          validated,\n          value\n        } = intent.payload;\n        var _name2 = formatName(intent.payload.name, intent.payload.index);\n        if (typeof value !== 'undefined') {\n          updateValue(meta, _name2 !== null && _name2 !== void 0 ? _name2 : '', value);\n        }\n        if (typeof validated !== 'undefined') {\n          // Clean up previous validated state\n          if (_name2) {\n            setState(meta.validated, _name2, () => undefined);\n          } else {\n            meta.validated = {};\n          }\n          if (validated) {\n            if (isPlainObject(value) || Array.isArray(value)) {\n              Object.assign(meta.validated, flatten(value, {\n                resolve() {\n                  return true;\n                },\n                prefix: _name2\n              }));\n            }\n            meta.validated[_name2 !== null && _name2 !== void 0 ? _name2 : ''] = true;\n          } else if (_name2) {\n            delete meta.validated[_name2];\n          }\n        }\n        break;\n      }\n    case 'reset':\n      {\n        var _name3 = formatName(intent.payload.name, intent.payload.index);\n        var _value = getValue(meta.defaultValue, _name3);\n        updateValue(meta, _name3, _value);\n        if (_name3) {\n          setState(meta.validated, _name3, () => undefined);\n          delete meta.validated[_name3];\n        } else {\n          meta.validated = {};\n        }\n        break;\n      }\n    case 'insert':\n    case 'remove':\n    case 'reorder':\n      {\n        if (initialized) {\n          meta.initialValue = clone(meta.initialValue);\n          meta.key = clone(meta.key);\n          setListState(meta.key, intent, defaultValue => {\n            if (!Array.isArray(defaultValue) && !isPlainObject(defaultValue)) {\n              return generateId();\n            }\n            return Object.assign(getDefaultKey(defaultValue), {\n              [root]: generateId()\n            });\n          });\n          setListValue(meta.initialValue, intent);\n        }\n        setListState(meta.validated, intent);\n        meta.validated[intent.payload.name] = true;\n        break;\n      }\n  }\n  var validatedFields = (_fields$filter = fields === null || fields === void 0 ? void 0 : fields.filter(name => meta.validated[name])) !== null && _fields$filter !== void 0 ? _fields$filter : [];\n  meta.error = Object.entries(meta.error).reduce((result, _ref3) => {\n    var [name, error] = _ref3;\n    if (meta.validated[name] || validatedFields.some(field => isPrefix(name, field))) {\n      result[name] = error;\n    }\n    return result;\n  }, {});\n}\nfunction updateValue(meta, name, value) {\n  if (name === '') {\n    meta.initialValue = value;\n    meta.value = value;\n    meta.key = _objectSpread2(_objectSpread2({}, getDefaultKey(value)), {}, {\n      '': generateId()\n    });\n    return;\n  }\n  meta.initialValue = clone(meta.initialValue);\n  meta.value = clone(meta.value);\n  meta.key = clone(meta.key);\n  setValue(meta.initialValue, name, () => value);\n  setValue(meta.value, name, () => value);\n  if (isPlainObject(value) || Array.isArray(value)) {\n    setState(meta.key, name, () => undefined);\n    Object.assign(meta.key, getDefaultKey(value, name));\n  }\n  meta.key[name] = generateId();\n}\nfunction createStateProxy(fn) {\n  var cache = {};\n  return new Proxy(cache, {\n    get(_, name, receiver) {\n      var _cache$name;\n      if (typeof name !== 'string') {\n        return;\n      }\n      return (_cache$name = cache[name]) !== null && _cache$name !== void 0 ? _cache$name : cache[name] = fn(name, receiver);\n    }\n  });\n}\nfunction createValueProxy(value) {\n  var val = normalize(value);\n  return createStateProxy((name, proxy) => {\n    if (name === '') {\n      return val;\n    }\n    var paths = getPaths(name);\n    var basename = formatPaths(paths.slice(0, -1));\n    var key = formatPaths(paths.slice(-1));\n    var parentValue = proxy[basename];\n    return getValue(parentValue, key);\n  });\n}\nfunction createConstraintProxy(constraint) {\n  return createStateProxy((name, proxy) => {\n    var _result;\n    var result = constraint[name];\n    if (!result) {\n      var paths = getPaths(name);\n      for (var i = paths.length - 1; i >= 0; i--) {\n        var path = paths[i];\n        if (typeof path === 'number' && !Number.isNaN(path)) {\n          paths[i] = Number.NaN;\n          break;\n        }\n      }\n      var alternative = formatPaths(paths);\n      if (name !== alternative) {\n        result = proxy[alternative];\n      }\n    }\n    return (_result = result) !== null && _result !== void 0 ? _result : {};\n  });\n}\nfunction createKeyProxy(key) {\n  return createStateProxy((name, proxy) => {\n    var currentKey = key[name];\n    var paths = getPaths(name);\n    if (paths.length === 0) {\n      return currentKey;\n    }\n    var parentKey = proxy[formatPaths(paths.slice(0, -1))];\n    if (typeof parentKey === 'undefined') {\n      return currentKey;\n    }\n    return \"\".concat(parentKey, \"/\").concat(currentKey !== null && currentKey !== void 0 ? currentKey : paths.at(-1));\n  });\n}\nfunction createValidProxy(error) {\n  return createStateProxy(name => {\n    var keys = Object.keys(error);\n    if (name === '') {\n      return keys.length === 0;\n    }\n    for (var key of keys) {\n      if (isPrefix(key, name) && typeof error[key] !== 'undefined') {\n        return false;\n      }\n    }\n    return true;\n  });\n}\nfunction createDirtyProxy(defaultValue, value, shouldDirtyConsider) {\n  return createStateProxy(name => JSON.stringify(defaultValue[name]) !== JSON.stringify(value[name], (key, value) => {\n    if (name === '' && key === '' && value) {\n      return Object.entries(value).reduce((result, _ref4) => {\n        var [name, value] = _ref4;\n        if (!shouldDirtyConsider(name)) {\n          return result;\n        }\n        return Object.assign(result !== null && result !== void 0 ? result : {}, {\n          [name]: value\n        });\n      }, undefined);\n    }\n    return value;\n  }));\n}\nfunction shouldNotify(prev, next, cache, scope) {\n  var compareFn = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : (prev, next) => JSON.stringify(prev) !== JSON.stringify(next);\n  if (scope && prev !== next) {\n    var _scope$prefix, _scope$name;\n    var prefixes = (_scope$prefix = scope.prefix) !== null && _scope$prefix !== void 0 ? _scope$prefix : [];\n    var names = (_scope$name = scope.name) !== null && _scope$name !== void 0 ? _scope$name : [];\n    var list = prefixes.length === 0 ? names : Array.from(new Set([...Object.keys(prev), ...Object.keys(next)]));\n    var _loop = function _loop(_name4) {\n        if (prefixes.length === 0 || names.includes(_name4) || prefixes.some(prefix => isPrefix(_name4, prefix))) {\n          var _cache$_name;\n          (_cache$_name = cache[_name4]) !== null && _cache$_name !== void 0 ? _cache$_name : cache[_name4] = compareFn(prev[_name4], next[_name4]);\n          if (cache[_name4]) {\n            return {\n              v: true\n            };\n          }\n        }\n      },\n      _ret;\n    for (var _name4 of list) {\n      _ret = _loop(_name4);\n      if (_ret) return _ret.v;\n    }\n  }\n  return false;\n}\nfunction createFormContext(options) {\n  var subscribers = [];\n  var latestOptions = options;\n  var processedIntents = new Set();\n  var meta = createFormMeta(options);\n  var state = createFormState(meta);\n  function getFormElement() {\n    return document.forms.namedItem(latestOptions.formId);\n  }\n  function createFormState(next) {\n    var prev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : next;\n    var state = arguments.length > 2 ? arguments[2] : undefined;\n    var defaultValue = !state || prev.defaultValue !== next.defaultValue ? createValueProxy(next.defaultValue) : state.defaultValue;\n    var initialValue = next.initialValue === next.defaultValue ? defaultValue : !state || prev.initialValue !== next.initialValue ? createValueProxy(next.initialValue) : state.initialValue;\n    var value = next.value === next.initialValue ? initialValue : !state || prev.value !== next.value ? createValueProxy(next.value) : state.value;\n    return {\n      submissionStatus: next.submissionStatus,\n      pendingIntents: next.pendingIntents,\n      defaultValue,\n      initialValue,\n      value,\n      error: !state || prev.error !== next.error ? next.error : state.error,\n      validated: next.validated,\n      constraint: !state || prev.constraint !== next.constraint ? createConstraintProxy(next.constraint) : state.constraint,\n      key: !state || prev.key !== next.key ? createKeyProxy(next.key) : state.key,\n      valid: !state || prev.error !== next.error ? createValidProxy(next.error) : state.valid,\n      dirty: !state || prev.defaultValue !== next.defaultValue || prev.value !== next.value ? createDirtyProxy(defaultValue, value, key => {\n        var _latestOptions$should, _latestOptions$should2;\n        return (_latestOptions$should = (_latestOptions$should2 = latestOptions.shouldDirtyConsider) === null || _latestOptions$should2 === void 0 ? void 0 : _latestOptions$should2.call(latestOptions, key)) !== null && _latestOptions$should !== void 0 ? _latestOptions$should : true;\n      }) : state.dirty\n    };\n  }\n  function updateFormMeta(nextMeta) {\n    var prevMeta = meta;\n    var prevState = state;\n    var nextState = createFormState(nextMeta, prevMeta, prevState);\n\n    // Apply change before notifying subscribers\n    meta = nextMeta;\n    state = nextState;\n    var cache = {\n      value: {},\n      error: {},\n      initialValue: {},\n      key: {},\n      valid: {},\n      dirty: {}\n    };\n    for (var subscriber of subscribers) {\n      var _subscriber$getSubjec;\n      var subject = (_subscriber$getSubjec = subscriber.getSubject) === null || _subscriber$getSubjec === void 0 ? void 0 : _subscriber$getSubjec.call(subscriber);\n      if (!subject || subject.formId && prevMeta.formId !== nextMeta.formId || subject.status && prevState.submissionStatus !== nextState.submissionStatus || subject.pendingIntents && prevMeta.pendingIntents !== nextMeta.pendingIntents || shouldNotify(prevState.error, nextState.error, cache.error, subject.error) || shouldNotify(prevState.initialValue, nextState.initialValue, cache.initialValue, subject.initialValue) || shouldNotify(prevState.key, nextState.key, cache.key, subject.key, (prev, next) => prev !== next) || shouldNotify(prevState.valid, nextState.valid, cache.valid, subject.valid, compareBoolean) || shouldNotify(prevState.dirty, nextState.dirty, cache.dirty, subject.dirty, compareBoolean) || shouldNotify(prevState.value, nextState.value, cache.value, subject.value)) {\n        subscriber.callback();\n      }\n    }\n  }\n  function compareBoolean() {\n    var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return prev !== next;\n  }\n  function getSerializedState() {\n    return JSON.stringify({\n      validated: meta.validated\n    });\n  }\n  function submit(event) {\n    var form = event.target;\n    var submitter = event.submitter;\n    invariant(form === getFormElement(), \"The submit event is dispatched by form#\".concat(form.id, \" instead of form#\").concat(latestOptions.formId));\n    var formData = getFormData(form, submitter);\n    var result = {\n      formData,\n      action: getFormAction(event),\n      encType: getFormEncType(event),\n      method: getFormMethod(event)\n    };\n    if (typeof (latestOptions === null || latestOptions === void 0 ? void 0 : latestOptions.onValidate) === 'undefined') {\n      return result;\n    }\n    var submission = latestOptions.onValidate({\n      form,\n      formData,\n      submitter\n    });\n    if (submission.status === 'success' || submission.error !== null) {\n      var _result2 = submission.reply();\n      report(_objectSpread2(_objectSpread2({}, _result2), {}, {\n        status: _result2.status !== 'success' ? _result2.status : undefined\n      }));\n    }\n    return _objectSpread2(_objectSpread2({}, result), {}, {\n      submission\n    });\n  }\n  function resolveTarget(event) {\n    var form = getFormElement();\n    var element = event.target;\n    if (!form || !isFieldElement(element) || element.form !== form || !element.form.isConnected || element.name === '') {\n      return null;\n    }\n    return element;\n  }\n  function willValidate(element, eventName) {\n    var {\n      shouldValidate = 'onSubmit',\n      shouldRevalidate = shouldValidate\n    } = latestOptions;\n    var validated = meta.validated[element.name];\n    return validated ? shouldRevalidate === eventName && (eventName === 'onInput' || meta.isValueUpdated) : shouldValidate === eventName;\n  }\n  function updateFormValue(form) {\n    var formData = new FormData(form);\n    var result = getSubmissionContext(formData);\n    updateFormMeta(_objectSpread2(_objectSpread2({}, meta), {}, {\n      isValueUpdated: true,\n      value: result.payload\n    }));\n  }\n  function onInput(event) {\n    var element = resolveTarget(event);\n    if (!element || !element.form) {\n      return;\n    }\n    if (event.defaultPrevented || !willValidate(element, 'onInput')) {\n      updateFormValue(element.form);\n    } else {\n      dispatch({\n        type: 'validate',\n        payload: {\n          name: element.name\n        }\n      });\n    }\n  }\n  function onBlur(event) {\n    var element = resolveTarget(event);\n    if (!element || event.defaultPrevented || !willValidate(element, 'onBlur')) {\n      return;\n    }\n    dispatch({\n      type: 'validate',\n      payload: {\n        name: element.name\n      }\n    });\n  }\n  function reset() {\n    processedIntents.clear();\n    updateFormMeta(createFormMeta(latestOptions, true));\n  }\n  function onReset(event) {\n    var element = getFormElement();\n    if (event.type !== 'reset' || event.target !== element || event.defaultPrevented) {\n      return;\n    }\n    reset();\n  }\n  function report(result) {\n    var _result$error, _result$state;\n    var formElement = getFormElement();\n    if (!result.initialValue) {\n      reset();\n      return;\n    }\n    var error = Object.entries((_result$error = result.error) !== null && _result$error !== void 0 ? _result$error : {}).reduce((result, _ref5) => {\n      var [name, newError] = _ref5;\n      var error = newError === null ? meta.error[name] : newError;\n      if (error) {\n        result[name] = error;\n      }\n      return result;\n    }, {});\n    var pendingIntents = result.intent ? meta.pendingIntents.filter(intent => !processedIntents.has(intent)).concat(result.intent) : meta.pendingIntents;\n    var update = _objectSpread2(_objectSpread2({}, meta), {}, {\n      pendingIntents,\n      isValueUpdated: false,\n      submissionStatus: result.status,\n      value: result.initialValue,\n      validated: _objectSpread2(_objectSpread2({}, meta.validated), (_result$state = result.state) === null || _result$state === void 0 ? void 0 : _result$state.validated),\n      error\n    });\n    handleIntent(update, result.intent, result.fields, true);\n    updateFormMeta(update);\n    if (formElement && result.status === 'error') {\n      for (var element of formElement.elements) {\n        if (isFieldElement(element) && meta.error[element.name]) {\n          element.focus();\n          break;\n        }\n      }\n    }\n  }\n  function onUpdate(options) {\n    var currentFormId = latestOptions.formId;\n    var currentResult = latestOptions.lastResult;\n\n    // Merge new options with the latest options\n    Object.assign(latestOptions, options);\n    if (latestOptions.formId !== currentFormId) {\n      reset();\n    } else if (options.lastResult && options.lastResult !== currentResult) {\n      report(options.lastResult);\n    }\n  }\n  function subscribe(callback, getSubject) {\n    var subscriber = {\n      callback,\n      getSubject\n    };\n    subscribers.push(subscriber);\n    return () => {\n      subscribers = subscribers.filter(current => current !== subscriber);\n    };\n  }\n  function getState() {\n    return state;\n  }\n  function dispatch(intent) {\n    var form = getFormElement();\n    var submitter = document.createElement('button');\n    var buttonProps = getControlButtonProps(intent);\n    submitter.name = buttonProps.name;\n    submitter.value = buttonProps.value;\n    submitter.hidden = true;\n    submitter.formNoValidate = true;\n    form === null || form === void 0 || form.appendChild(submitter);\n    requestSubmit(form, submitter);\n    form === null || form === void 0 || form.removeChild(submitter);\n  }\n  function getControlButtonProps(intent) {\n    return {\n      name: INTENT,\n      value: serializeIntent(intent),\n      form: latestOptions.formId,\n      formNoValidate: true\n    };\n  }\n  function createFormControl(type) {\n    var control = function control() {\n      var payload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return dispatch({\n        type,\n        payload\n      });\n    };\n    return Object.assign(control, {\n      getButtonProps() {\n        var payload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return getControlButtonProps({\n          type,\n          payload\n        });\n      }\n    });\n  }\n  function observe() {\n    var observer = new MutationObserver(mutations => {\n      var form = getFormElement();\n      if (!form) {\n        return;\n      }\n      for (var mutation of mutations) {\n        var nodes = mutation.type === 'childList' ? [...mutation.addedNodes, ...mutation.removedNodes] : [mutation.target];\n        for (var node of nodes) {\n          var element = isFieldElement(node) ? node : node instanceof HTMLElement ? node.querySelector('input,select,textarea') : null;\n          if ((element === null || element === void 0 ? void 0 : element.form) === form) {\n            updateFormValue(form);\n            return;\n          }\n        }\n      }\n    });\n    observer.observe(document, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: ['form', 'name']\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }\n  function runSideEffect(intents) {\n    var formElement = getFormElement();\n    if (!formElement) {\n      return;\n    }\n    for (var intent of intents) {\n      switch (intent.type) {\n        case 'update':\n          {\n            var _name5 = formatName(intent.payload.name, intent.payload.index);\n            var parentPaths = getPaths(_name5);\n            for (var element of formElement.elements) {\n              if (isFieldElement(element)) {\n                var paths = getChildPaths(parentPaths, element.name);\n                if (paths) {\n                  var value = getValue(intent.payload.value, formatPaths(paths));\n                  updateField(element, {\n                    value: typeof value === 'string' || Array.isArray(value) && value.every(item => typeof item === 'string') ? value : null\n                  });\n\n                  // Update the element attribute to notify useControl / useInputControl hook\n                  element.dataset.conform = generateId();\n                }\n              }\n            }\n            break;\n          }\n        case 'reset':\n          {\n            var prefix = formatName(intent.payload.name, intent.payload.index);\n            for (var _element of formElement.elements) {\n              if (isFieldElement(_element) && _element.name && isPrefix(_element.name, prefix)) {\n                var _value2 = getValue(meta.defaultValue, _element.name);\n                var defaultValue = typeof _value2 === 'string' || Array.isArray(_value2) && _value2.every(item => typeof item === 'string') ? _value2 : null;\n                updateField(_element, {\n                  defaultValue,\n                  value: defaultValue\n                });\n\n                // Update the element attribute to notify useControl / useInputControl hook\n                _element.dataset.conform = generateId();\n              }\n            }\n            break;\n          }\n      }\n      processedIntents.add(intent);\n    }\n  }\n  return {\n    getFormId() {\n      return meta.formId;\n    },\n    submit,\n    onReset,\n    onInput,\n    onBlur,\n    onUpdate,\n    validate: createFormControl('validate'),\n    reset: createFormControl('reset'),\n    update: createFormControl('update'),\n    insert: createFormControl('insert'),\n    remove: createFormControl('remove'),\n    reorder: createFormControl('reorder'),\n    runSideEffect,\n    subscribe,\n    getState,\n    getSerializedState,\n    observe\n  };\n}\n\nexport { createFormContext };\n","function ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nexport { _defineProperty as defineProperty, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey };\n","import { objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { STATE, formatPaths, getPaths, unstable_createFormContext, INTENT, isPrefix } from '@conform-to/dom';\nimport { useContext, useMemo, createContext, useCallback, useSyncExternalStore, useRef } from 'react';\nimport { jsx } from 'react/jsx-runtime';\n\nvar Form = /*#__PURE__*/createContext([]);\n\n// To hide the FormContext type from the public API\nvar wrappedSymbol = Symbol('wrapped');\nfunction getWrappedFormContext(context) {\n  return context[wrappedSymbol];\n}\nfunction useFormContext(formId) {\n  var contexts = useContext(Form);\n  var form = formId ? contexts.find(context => formId === context.getFormId()) : contexts[0];\n  if (!form) {\n    throw new Error('Form context is not available');\n  }\n  return form;\n}\nfunction useFormState(form, subjectRef) {\n  var subscribe = useCallback(callback => form.subscribe(callback, () => subjectRef === null || subjectRef === void 0 ? void 0 : subjectRef.current), [form, subjectRef]);\n  return useSyncExternalStore(subscribe, form.getState, form.getState);\n}\nfunction FormProvider(props) {\n  var forms = useContext(Form);\n  var context = getWrappedFormContext(props.context);\n  var value = useMemo(() => [context].concat(forms),\n  // Put the latest form context first\n  [forms, context]);\n  return /*#__PURE__*/jsx(Form.Provider, {\n    value: value,\n    children: props.children\n  });\n}\nfunction FormStateInput(props) {\n  var context = useFormContext(props.formId);\n  return /*#__PURE__*/jsx(\"input\", {\n    type: \"hidden\",\n    name: STATE,\n    value: context.getSerializedState(),\n    form: props.formId\n  });\n}\nfunction useSubjectRef() {\n  var initialSubject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var subjectRef = useRef(initialSubject);\n\n  // Reset the subject everytime the component is rerendered\n  // This let us subscribe to data used in the last render only\n  subjectRef.current = initialSubject;\n  return subjectRef;\n}\nfunction updateSubjectRef(ref, subject, scope, name) {\n  if (subject === 'status' || subject === 'formId' || subject === 'pendingIntents') {\n    ref.current[subject] = true;\n  } else if (typeof scope !== 'undefined' && typeof name !== 'undefined') {\n    var _ref$current$subject$, _ref$current$subject;\n    ref.current[subject] = _objectSpread2(_objectSpread2({}, ref.current[subject]), {}, {\n      [scope]: ((_ref$current$subject$ = (_ref$current$subject = ref.current[subject]) === null || _ref$current$subject === void 0 ? void 0 : _ref$current$subject[scope]) !== null && _ref$current$subject$ !== void 0 ? _ref$current$subject$ : []).concat(name)\n    });\n  }\n}\nfunction getMetadata(context, subjectRef, stateSnapshot) {\n  var name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var id = name ? \"\".concat(context.getFormId(), \"-\").concat(name) : context.getFormId();\n  var state = context.getState();\n  return new Proxy({\n    id,\n    name,\n    errorId: \"\".concat(id, \"-error\"),\n    descriptionId: \"\".concat(id, \"-description\"),\n    get defaultValue() {\n      var initialValue = this.initialValue;\n      if (typeof initialValue === 'string') {\n        return initialValue;\n      }\n      if (Array.isArray(initialValue)) {\n        return initialValue[0];\n      }\n    },\n    get defaultOptions() {\n      var initialValue = this.initialValue;\n      if (typeof initialValue === 'string') {\n        return [initialValue];\n      }\n      if (Array.isArray(initialValue) && initialValue.every(item => typeof item === 'string')) {\n        return initialValue;\n      }\n    },\n    get defaultChecked() {\n      if (this.initialValue === 'on') {\n        return true;\n      }\n    },\n    get initialValue() {\n      return state.initialValue[name];\n    },\n    get value() {\n      return state.value[name];\n    },\n    get errors() {\n      return state.error[name];\n    },\n    get key() {\n      return state.key[name];\n    },\n    get valid() {\n      return state.valid[name];\n    },\n    get dirty() {\n      return state.dirty[name];\n    },\n    get allErrors() {\n      if (name === '') {\n        return state.error;\n      }\n      var result = {};\n      for (var [key, error] of Object.entries(state.error)) {\n        if (isPrefix(key, name)) {\n          result[key] = error;\n        }\n      }\n      return result;\n    },\n    get getFieldset() {\n      return () => new Proxy({}, {\n        get(target, key, receiver) {\n          if (typeof key === 'string') {\n            return getFieldMetadata(context, subjectRef, stateSnapshot, name, key);\n          }\n          return Reflect.get(target, key, receiver);\n        }\n      });\n    }\n  }, {\n    get(target, key, receiver) {\n      // We want to minize re-render by identifying whether the field is used in a callback only\n      // but there is no clear way to know if it is accessed during render or not\n      // if the stateSnapshot is not the latest, then it must be accessed in a callback\n      if (state === stateSnapshot) {\n        switch (key) {\n          case 'id':\n          case 'errorId':\n          case 'descriptionId':\n            updateSubjectRef(subjectRef, 'formId');\n            break;\n          case 'key':\n          case 'initialValue':\n          case 'value':\n          case 'valid':\n          case 'dirty':\n            updateSubjectRef(subjectRef, key, 'name', name);\n            break;\n          case 'errors':\n          case 'allErrors':\n            updateSubjectRef(subjectRef, 'error', key === 'errors' ? 'name' : 'prefix', name);\n            break;\n        }\n      }\n      return Reflect.get(target, key, receiver);\n    }\n  });\n}\nfunction getFieldMetadata(context, subjectRef, stateSnapshot) {\n  var prefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var key = arguments.length > 4 ? arguments[4] : undefined;\n  var name = typeof key === 'undefined' ? prefix : formatPaths([...getPaths(prefix), key]);\n  return new Proxy({}, {\n    get(_, key, receiver) {\n      var _state$constraint$nam;\n      var metadata = getMetadata(context, subjectRef, stateSnapshot, name);\n      var state = context.getState();\n      switch (key) {\n        case 'formId':\n          if (state === stateSnapshot) {\n            updateSubjectRef(subjectRef, 'formId');\n          }\n          return context.getFormId();\n        case 'required':\n        case 'minLength':\n        case 'maxLength':\n        case 'min':\n        case 'max':\n        case 'pattern':\n        case 'step':\n        case 'multiple':\n          return (_state$constraint$nam = state.constraint[name]) === null || _state$constraint$nam === void 0 ? void 0 : _state$constraint$nam[key];\n        case 'getFieldList':\n          {\n            return () => {\n              var _state$initialValue$n;\n              var initialValue = (_state$initialValue$n = state.initialValue[name]) !== null && _state$initialValue$n !== void 0 ? _state$initialValue$n : [];\n              if (state === stateSnapshot) {\n                updateSubjectRef(subjectRef, 'initialValue', 'name', name);\n              }\n              if (!Array.isArray(initialValue)) {\n                throw new Error('The initial value at the given name is not a list');\n              }\n              return Array(initialValue.length).fill(0).map((_, index) => getFieldMetadata(context, subjectRef, stateSnapshot, name, index));\n            };\n          }\n      }\n      return Reflect.get(metadata, key, receiver);\n    }\n  });\n}\nfunction getFormMetadata(context, subjectRef, stateSnapshot, noValidate) {\n  return new Proxy({}, {\n    get(_, key, receiver) {\n      var metadata = getMetadata(context, subjectRef, stateSnapshot);\n      var state = context.getState();\n      switch (key) {\n        case 'context':\n          return {\n            [wrappedSymbol]: context\n          };\n        case 'status':\n          if (state === stateSnapshot) {\n            updateSubjectRef(subjectRef, 'status');\n          }\n          return state.submissionStatus;\n        case 'validate':\n        case 'update':\n        case 'reset':\n        case 'insert':\n        case 'remove':\n        case 'reorder':\n          return context[key];\n        case 'onSubmit':\n          return context.submit;\n        case 'noValidate':\n          return noValidate;\n      }\n      return Reflect.get(metadata, key, receiver);\n    }\n  });\n}\nfunction createFormContext(options) {\n  var {\n    onSubmit\n  } = options;\n  var context = unstable_createFormContext(options);\n  return _objectSpread2(_objectSpread2({}, context), {}, {\n    submit(event) {\n      var submitEvent = event.nativeEvent;\n      var result = context.submit(submitEvent);\n      if (!result.submission || result.submission.status === 'success' || result.submission.error === null) {\n        if (!result.formData.has(INTENT)) {\n          var _onSubmit;\n          (_onSubmit = onSubmit) === null || _onSubmit === void 0 || _onSubmit(event, result);\n        }\n      } else {\n        event.preventDefault();\n      }\n    },\n    onUpdate(options) {\n      onSubmit = options.onSubmit;\n      context.onUpdate(options);\n    }\n  });\n}\n\nexport { Form, FormProvider, FormStateInput, createFormContext, getFieldMetadata, getFormMetadata, getMetadata, getWrappedFormContext, updateSubjectRef, useFormContext, useFormState, useSubjectRef };\n","import { objectWithoutProperties as _objectWithoutProperties, objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { useState, useEffect, useLayoutEffect, useId } from 'react';\nimport { createFormContext, useSubjectRef, useFormState, getFormMetadata, useFormContext, getFieldMetadata } from './context.mjs';\n\nvar _excluded = [\"id\"];\n\n/**\n * useLayoutEffect is client-only.\n * This basically makes it a no-op on server\n */\nvar useSafeLayoutEffect = typeof document === 'undefined' ? useEffect : useLayoutEffect;\nfunction useFormId(preferredId) {\n  var id = useId();\n  return preferredId !== null && preferredId !== void 0 ? preferredId : id;\n}\nfunction useNoValidate() {\n  var defaultNoValidate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var [noValidate, setNoValidate] = useState(defaultNoValidate);\n  useSafeLayoutEffect(() => {\n    // This is necessary to fix an issue in strict mode with related to our proxy setup\n    // It avoids the component from being rerendered without re-rendering the child\n    // Which reset the proxy but failed to capture its usage within child component\n    if (!noValidate) {\n      setNoValidate(true);\n    }\n  }, [noValidate]);\n  return noValidate;\n}\nfunction useForm(options) {\n  var {\n      id\n    } = options,\n    formConfig = _objectWithoutProperties(options, _excluded);\n  var formId = useFormId(id);\n  var [context] = useState(() => createFormContext(_objectSpread2(_objectSpread2({}, formConfig), {}, {\n    formId\n  })));\n  useSafeLayoutEffect(() => {\n    var disconnect = context.observe();\n    document.addEventListener('input', context.onInput);\n    document.addEventListener('focusout', context.onBlur);\n    document.addEventListener('reset', context.onReset);\n    return () => {\n      disconnect();\n      document.removeEventListener('input', context.onInput);\n      document.removeEventListener('focusout', context.onBlur);\n      document.removeEventListener('reset', context.onReset);\n    };\n  }, [context]);\n  useSafeLayoutEffect(() => {\n    context.onUpdate(_objectSpread2(_objectSpread2({}, formConfig), {}, {\n      formId\n    }));\n  });\n  var subjectRef = useSubjectRef({\n    pendingIntents: true\n  });\n  var stateSnapshot = useFormState(context, subjectRef);\n  var noValidate = useNoValidate(options.defaultNoValidate);\n  var form = getFormMetadata(context, subjectRef, stateSnapshot, noValidate);\n  useEffect(() => {\n    context.runSideEffect(stateSnapshot.pendingIntents);\n  }, [context, stateSnapshot.pendingIntents]);\n  return [form, form.getFieldset()];\n}\nfunction useFormMetadata(formId) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var subjectRef = useSubjectRef();\n  var context = useFormContext(formId);\n  var stateSnapshot = useFormState(context, subjectRef);\n  var noValidate = useNoValidate(options.defaultNoValidate);\n  return getFormMetadata(context, subjectRef, stateSnapshot, noValidate);\n}\nfunction useField(name) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var subjectRef = useSubjectRef();\n  var context = useFormContext(options.formId);\n  var stateSnapshot = useFormState(context, subjectRef);\n  var field = getFieldMetadata(context, subjectRef, stateSnapshot, name);\n  var form = getFormMetadata(context, subjectRef, stateSnapshot, false);\n  return [field, form];\n}\n\nexport { useField, useForm, useFormId, useFormMetadata, useNoValidate, useSafeLayoutEffect };\n","import { objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\n\n/**\n * Cleanup `undefined` from the result.\n * To minimize conflicts when merging with user defined props\n */\nfunction simplify(props) {\n  for (var key in props) {\n    if (props[key] === undefined) {\n      delete props[key];\n    }\n  }\n  return props;\n}\n\n/**\n * Derives aria attributes of a form control based on the field metadata.\n */\nfunction getAriaAttributes(metadata) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var field = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (typeof options.ariaAttributes !== 'undefined' && !options.ariaAttributes) {\n    return {};\n  }\n  var invalid = options.ariaInvalid === 'allErrors' ? !metadata.valid : typeof metadata.errors !== 'undefined';\n  var ariaDescribedBy = options.ariaDescribedBy;\n  return simplify({\n    'aria-invalid': field && invalid || undefined,\n    'aria-describedby': invalid ? \"\".concat(metadata.errorId, \" \").concat(ariaDescribedBy !== null && ariaDescribedBy !== void 0 ? ariaDescribedBy : '').trim() : ariaDescribedBy\n  });\n}\n\n/**\n * Derives the properties of a form element based on the form metadata,\n * including `id`, `onSubmit`, `noValidate`, and `aria-describedby`.\n *\n * @example\n * ```tsx\n * <form {...getFormProps(metadata)} />\n * ```\n */\nfunction getFormProps(metadata, options) {\n  return simplify(_objectSpread2({\n    id: metadata.id,\n    onSubmit: metadata.onSubmit,\n    noValidate: metadata.noValidate\n  }, getAriaAttributes(metadata, options)));\n}\n\n/**\n * Derives the properties of a fieldset element based on the field metadata,\n * including `id`, `name`, `form`, and `aria-describedby`.\n *\n * @example\n * ```tsx\n * <fieldset {...getFieldsetProps(metadata)} />\n * ```\n */\nfunction getFieldsetProps(metadata, options) {\n  var field = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return simplify(_objectSpread2({\n    id: metadata.id,\n    name: metadata.name,\n    form: metadata.formId\n  }, getAriaAttributes(metadata, options, field)));\n}\n\n/**\n * Derives common properties of a form control based on the field metadata,\n * including `key`, `id`, `name`, `form`, `required`, `autoFocus`, `aria-invalid` and `aria-describedby`.\n */\nfunction getFormControlProps(metadata, options) {\n  return simplify(_objectSpread2({\n    key: undefined,\n    required: metadata.required || undefined\n  }, getFieldsetProps(metadata, options, true)));\n}\n\n/**\n * Derives the properties of an input element based on the field metadata,\n * including common form control attributes like `key`, `id`, `name`, `form`, `autoFocus`, `aria-invalid`, `aria-describedby`\n * and constraint attributes such as `type`, `required`, `minLength`, `maxLength`, `min`, `max`, `step`, `pattern`, `multiple`.\n * Depends on the provided options, it will also set `defaultChecked` / `checked` if it is a checkbox or radio button,\n * or otherwise `defaultValue` / `value`.\n *\n * @see https://conform.guide/api/react/getInputProps\n * @example\n * ```tsx\n * // To setup an uncontrolled input\n * <input {...getInputProps(metadata, { type: 'text' })} />\n * // To setup an uncontrolled checkbox\n * <input {...getInputProps(metadata, { type: 'checkbox' })} />\n * // To setup an input without defaultValue\n * <input {...getInputProps(metadata, { value: false })} />\n * // To setup a radio button without defaultChecked state\n * <input {...getInputProps(metadata, { type: 'radio', value: false })} />\n * ```\n */\nfunction getInputProps(metadata, options) {\n  var props = _objectSpread2(_objectSpread2({}, getFormControlProps(metadata, options)), {}, {\n    type: options.type,\n    minLength: metadata.minLength,\n    maxLength: metadata.maxLength,\n    min: metadata.min,\n    max: metadata.max,\n    step: metadata.step,\n    pattern: metadata.pattern,\n    multiple: metadata.multiple\n  });\n  if (typeof options.value === 'undefined' || options.value) {\n    if (options.type === 'checkbox' || options.type === 'radio') {\n      props.value = typeof options.value === 'string' ? options.value : 'on';\n      props.defaultChecked = Array.isArray(metadata.initialValue) ? metadata.initialValue.includes(options.value) : metadata.initialValue === props.value;\n    } else if (typeof metadata.initialValue === 'string') {\n      props.defaultValue = metadata.initialValue;\n    }\n  }\n  return simplify(props);\n}\n\n/**\n * Derives the properties of a select element based on the field metadata,\n * including common form control attributes like `key`, `id`, `name`, `form`, `autoFocus`, `aria-invalid`, `aria-describedby`\n * and constraint attributes such as `required` or `multiple`.\n * Depends on the provided options, it will also set `defaultValue` / `value`.\n *\n * @see https://conform.guide/api/react/getSelectProps\n * @example\n * ```tsx\n * // To setup an uncontrolled select\n * <select {...getSelectProps(metadata)} />\n * // To setup a select without defaultValue\n * <select {...getSelectProps(metadata, { value: false })} />\n * ```\n */\nfunction getSelectProps(metadata) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var props = _objectSpread2(_objectSpread2({}, getFormControlProps(metadata, options)), {}, {\n    multiple: metadata.multiple\n  });\n  if (typeof options.value === 'undefined' || options.value) {\n    var _metadata$initialValu;\n    props.defaultValue = Array.isArray(metadata.initialValue) ? metadata.initialValue.map(item => \"\".concat(item !== null && item !== void 0 ? item : '')) : (_metadata$initialValu = metadata.initialValue) === null || _metadata$initialValu === void 0 ? void 0 : _metadata$initialValu.toString();\n  }\n  return simplify(props);\n}\n\n/**\n * Derives the properties of a textarea element based on the field metadata,\n * including common form control attributes like `key`, `id`, `name`, `form`, `autoFocus`, `aria-invalid`, `aria-describedby`\n * and constraint attributes such as `required`, `minLength` or `maxLength`.\n * Depends on the provided options, it will also set `defaultValue` / `value`.\n *\n * @see https://conform.guide/api/react/getTextareaProps\n * @example\n * ```tsx\n * // To setup an uncontrolled textarea\n * <textarea {...getTextareaProps(metadata)} />\n * // To setup a textarea without defaultValue\n * <textarea {...getTextareaProps(metadata, { value: false })} />\n * ```\n */\nfunction getTextareaProps(metadata) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var props = _objectSpread2(_objectSpread2({}, getFormControlProps(metadata, options)), {}, {\n    minLength: metadata.minLength,\n    maxLength: metadata.maxLength\n  });\n  if (typeof options.value === 'undefined' || options.value) {\n    var _metadata$initialValu2;\n    props.defaultValue = (_metadata$initialValu2 = metadata.initialValue) === null || _metadata$initialValu2 === void 0 ? void 0 : _metadata$initialValu2.toString();\n  }\n  return simplify(props);\n}\n\n/**\n * Derives the properties of a collection of checkboxes or radio buttons based on the field metadata,\n * including common form control attributes like `key`, `id`, `name`, `form`, `autoFocus`, `aria-invalid`, `aria-describedby` and `required`.\n *\n * @see https://conform.guide/api/react/getCollectionProps\n * @example\n * ```tsx\n * <fieldset>\n *   {getCollectionProps(metadata, {\n *     type: 'checkbox',\n *     options: ['a', 'b', 'c']\n *   }).map((props) => (\n *     <div key={props.key}>\n *       <label htmlFor={props.id}>{props.value}</label>\n *       <input {...props} />\n *     </div>\n *  ))}\n * </fieldset>\n * ```\n */\nfunction getCollectionProps(metadata, options) {\n  return options.options.map(value => {\n    var _metadata$key;\n    return simplify(_objectSpread2(_objectSpread2({}, getFormControlProps(metadata, options)), {}, {\n      key: \"\".concat((_metadata$key = metadata.key) !== null && _metadata$key !== void 0 ? _metadata$key : '').concat(value),\n      id: \"\".concat(metadata.id, \"-\").concat(value),\n      type: options.type,\n      value,\n      defaultChecked: typeof options.value === 'undefined' || options.value ? options.type === 'checkbox' && Array.isArray(metadata.initialValue) ? metadata.initialValue.includes(value) : metadata.initialValue === value : undefined,\n      // The required attribute doesn't make sense for checkbox group\n      // As it would require all checkboxes to be checked instead of at least one\n      // It is overriden with `undefiend` so it could be cleaned up properly\n      required: options.type === 'checkbox' ? undefined : metadata.required\n    }));\n  });\n}\n\nexport { getAriaAttributes, getCollectionProps, getFieldsetProps, getFormControlProps, getFormProps, getInputProps, getSelectProps, getTextareaProps };\n"],"names":["ownKeys","e","r","o","_objectSpread2","_defineProperty","obj","key","value","_toPropertyKey","_toPrimitive","input","hint","prim","res","arg","getFormData","form","submitter","payload","entries","getPaths","name","result","segment","index","formatPaths","paths","path","formatName","prefix","isPrefix","prefixPaths","getChildPaths","parentNameOrPaths","childName","parentPaths","childPaths","setValue","target","valueFn","length","lastIndex","pointer","nextKey","newValue","getValue","isPlainObject","isGlobalInstance","className","Ctor","normalize","acceptFile","data","item","flatten","_options$resolve","options","resolve","process","i","_value","_options$prefix","INTENT","STATE","getSubmissionContext","body","intent","state","invariant","context","getIntent","_loop","next","prev","parse","_name","setListValue","mergeResolveResult","resolved","createSubmission","replySubmission","_context$intent","_context$intent$paylo","_options$formErrors","_ref","_value2","extraError","error","initialValue","serializedIntent","control","serializeIntent","serialize","updateList","list","_intent$payload$index","root","setState","keys","_loop2","_key","currentValue","_data$root","setListState","getDefaultValue","defaultValue","_ref2","createFormMeta","isResetting","_lastResult$initialVa","_options$constraint","_lastResult$state$val","_lastResult$state","lastResult","generateId","getDefaultKey","handleIntent","setFieldsValidated","meta","fields","initialized","_fields$filter","validated","_name2","updateValue","_name3","clone","validatedFields","_ref3","field","createStateProxy","fn","cache","_","receiver","_cache$name","createValueProxy","val","proxy","basename","parentValue","createConstraintProxy","constraint","_result","alternative","createKeyProxy","currentKey","parentKey","createValidProxy","createDirtyProxy","shouldDirtyConsider","_ref4","shouldNotify","scope","compareFn","_scope$prefix","_scope$name","prefixes","names","_name4","_cache$_name","_ret","createFormContext","subscribers","latestOptions","processedIntents","createFormState","getFormElement","_latestOptions$should","_latestOptions$should2","updateFormMeta","nextMeta","prevMeta","prevState","nextState","subscriber","_subscriber$getSubjec","subject","compareBoolean","getSerializedState","submit","event","formData","getFormAction","getFormEncType","getFormMethod","submission","_result2","report","resolveTarget","element","isFieldElement","willValidate","eventName","shouldValidate","shouldRevalidate","updateFormValue","onInput","dispatch","onBlur","reset","onReset","_result$error","_result$state","formElement","_ref5","newError","pendingIntents","update","onUpdate","currentFormId","currentResult","subscribe","callback","getSubject","current","getState","buttonProps","getControlButtonProps","requestSubmit","createFormControl","type","observe","observer","mutations","mutation","nodes","node","runSideEffect","intents","_name5","updateField","_element","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","Form","createContext","wrappedSymbol","getWrappedFormContext","useFormState","subjectRef","useCallback","useSyncExternalStore","FormProvider","props","forms","useContext","useMemo","jsx","useSubjectRef","initialSubject","useRef","updateSubjectRef","ref","_ref$current$subject$","_ref$current$subject","getMetadata","stateSnapshot","id","getFieldMetadata","_state$constraint$nam","metadata","_state$initialValue$n","getFormMetadata","noValidate","onSubmit","unstable_createFormContext","submitEvent","_onSubmit","_excluded","useSafeLayoutEffect","useEffect","useLayoutEffect","useFormId","preferredId","useId","useNoValidate","defaultNoValidate","setNoValidate","useState","useForm","formConfig","formId","disconnect","simplify","getAriaAttributes","invalid","ariaDescribedBy","getFormProps","getFieldsetProps","getFormControlProps","getInputProps","getTextareaProps","_metadata$initialValu2"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}