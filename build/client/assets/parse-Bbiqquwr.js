import{a as d,f as Z,g as O,h as w,j as h,k as P,m as E,n as v,p as _,q as D,r as T,t as j,v as I,w as A}from"./types-kDhgxygl.js";import{p as S,f as F}from"./helpers-Ch5Ym2hM.js";function b(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?b(Object(n),!0).forEach(function(i){V(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function V(e,r,n){return r=M(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function B(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function M(e){var r=B(e,"string");return typeof r=="symbol"?r:String(r)}function l(e){if(typeof e!="string")return e;if(e!=="")return e}function L(e){if(!(typeof File<"u"&&e instanceof File&&e.name===""&&e.size===0))return e}function U(e){return typeof e!="string"||e.trim()===""?e:Number(e)}function z(e){return typeof e!="string"?e:e==="on"?!0:e}function K(e){if(typeof e!="string")return e;var r=new Date(e);return isNaN(r.getTime())?e:r}function k(e){if(typeof e!="string"||e.trim()==="")return e;try{return BigInt(e)}catch{return e}}function $(e){return typeof File>"u"?!1:e._def.effect.type==="refinement"&&e.innerType()._def.typeName==="ZodAny"&&e.safeParse(new File([],"")).success&&!e.safeParse("").success}function p(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i=>i;return i=>n(r(e(i)))}function q(e,r){var n=e._def;if(n.typeName==="ZodString"||n.typeName==="ZodEnum"||n.typeName==="ZodNativeEnum")return r.string;if(n.typeName==="ZodLiteral"){var i=e.value;return typeof i=="number"?r.number:typeof i=="boolean"?r.boolean:typeof i=="bigint"?r.bigint:r.string}else{if(n.typeName==="ZodEffects"&&$(e))return r.file;if(n.typeName==="ZodNumber")return r.number;if(n.typeName==="ZodBoolean")return r.boolean;if(n.typeName==="ZodDate")return r.date;if(n.typeName==="ZodBigInt")return r.bigint}return null}function o(e,r){var n=r.cache.get(e);if(n)return n;var i=e,t=e._def,s=r.coerce(e);if(s)i=d().transform(s).pipe(e);else if(t.typeName==="ZodArray")i=d().transform(a=>Array.isArray(a)?a:typeof a>"u"||typeof r.stripEmptyValue(a)>"u"?[]:[a]).pipe(new Z(f(f({},t),{},{type:o(t.type,r)})));else if(t.typeName==="ZodObject")i=d().transform(a=>typeof a>"u"?{}:a).pipe(new O(f(f({},t),{},{shape:()=>Object.fromEntries(Object.entries(t.shape()).map(a=>{var[c,y]=a;return[c,o(y,r)]}))})));else if(t.typeName==="ZodEffects")i=new w(f(f({},t),{},{schema:o(t.schema,r)}));else if(t.typeName==="ZodOptional")i=d().transform(r.stripEmptyValue).pipe(new h(f(f({},t),{},{innerType:o(t.innerType,r)})));else if(t.typeName==="ZodDefault"){var u=t.defaultValue();i=d().transform(r.stripEmptyValue).pipe(o(t.innerType,r).optional()).transform(a=>a??u)}else if(t.typeName==="ZodCatch")i=new P(f(f({},t),{},{innerType:o(t.innerType,r)}));else if(t.typeName==="ZodIntersection")i=new E(f(f({},t),{},{left:o(t.left,r),right:o(t.right,r)}));else if(t.typeName==="ZodUnion")i=new v(f(f({},t),{},{options:t.options.map(a=>o(a,r))}));else if(t.typeName==="ZodDiscriminatedUnion")i=d().transform(a=>typeof a>"u"?{}:a).pipe(new _(f(f({},t),{},{options:t.options.map(a=>o(a,r)),optionsMap:new Map(Array.from(t.optionsMap.entries()).map(a=>{var[c,y]=a;return[c,o(y,r)]}))})));else if(t.typeName==="ZodBranded")i=new D(f(f({},t),{},{type:o(t.type,r)}));else if(t.typeName==="ZodTuple")i=new T(f(f({},t),{},{items:t.items.map(a=>o(a,r))}));else if(t.typeName==="ZodNullable")i=new j(f(f({},t),{},{innerType:o(t.innerType,r)}));else if(t.typeName==="ZodPipeline")i=new I(f(f({},t),{},{in:o(t.in,r),out:o(t.out,r)}));else if(t.typeName==="ZodLazy"){var m=t.getter();i=A(()=>o(m,r))}return e!==i&&r.cache.set(e,i),i}function x(e,r){var n=(t,s)=>s||(u=>u),i={string:p(l,n()),file:p(L,n()),number:p(l,n(),n("number",U)),boolean:p(l,n(),n("boolean",z)),date:p(l,n(),n("date",K)),bigint:p(l,n(),n("bigint",k))};return o(e,{cache:new Map,stripEmptyValue:p(i.string,i.file),coerce:t=>{var s,u=(s=void 0)!==null&&s!==void 0?s:null;return u===null&&(u=q(t,i)),u}})}function W(e,r){var n={};for(var i of e.errors){var t=F(i.path);switch(i.message){case g.VALIDATION_UNDEFINED:return null;case g.VALIDATION_SKIPPED:n[t]=null;break;default:{var s=n[t];s!==null&&(s?n[t]=s.concat(i):n[t]=[i]);break}}}return Object.entries(n).reduce((u,m)=>{var[a,c]=m;return u[a]=c?r(c):null,u},{})}function J(e,r){return S(e,{resolve(n,i){var t=r.errorMap,s=typeof r.schema=="function"?r.schema(i):r.schema,u=r.disableAutoCoercion?s:x(s),m=a=>{var c;return{value:a.success?a.data:void 0,error:a.success?void 0:W(a.error,(c=r.formatError)!==null&&c!==void 0?c:y=>y.map(N=>N.message))}};return r.async?u.safeParseAsync(n,{errorMap:t}).then(a=>m(a)):m(u.safeParse(n,{errorMap:t}))}})}var g={VALIDATION_SKIPPED:"__skipped__",VALIDATION_UNDEFINED:"__undefined__"};export{f as _,J as p};
//# sourceMappingURL=parse-Bbiqquwr.js.map
