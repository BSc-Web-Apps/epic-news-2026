import{j as e,w as p,d as x,r as h}from"./chunk-UH6JLGW7-vC5r3Eub.js";import{I as i}from"./icon-C3K2m46L.js";import{S as u}from"./status-button-hfmu5Em_.js";import{T as r,a,b as c,c as l}from"./tooltip-fkOurSWR.js";import{p as j,P as f,a as v}from"./connections-BLqavkLQ.js";import"./misc-CB38qpgG.js";import"./button-BP3wkmPp.js";import"./index-Bn1b60ek.js";import"./index-C2xojAqc.js";import"./index-BlK1szso.js";import"./types-kDhgxygl.js";const O={breadcrumb:e.jsx(i,{name:"link-2",children:"Connections"}),getSitemapEntries:()=>null},E=p(function({loaderData:t}){return e.jsxs("div",{className:"mx-auto max-w-md",children:[t.connections.length?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{children:"Here are your current connections:"}),e.jsx("ul",{className:"flex flex-col gap-4",children:t.connections.map(n=>e.jsx("li",{children:e.jsx(g,{connection:n,canDelete:t.canDeleteConnections})},n.id))})]}):e.jsx("p",{children:"You don't have any connections yet."}),e.jsx("div",{className:"border-border mt-5 flex flex-col gap-5 border-t-2 border-b-2 py-3",children:j.map(n=>e.jsx(f,{type:"Connect",providerName:n},n))})]})});function g({connection:s,canDelete:t}){const n=x(),[d,o]=h.useState(!1),m=v[s.providerName];return e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[m,e.jsxs("span",{children:[s.link?e.jsx("a",{href:s.link,className:"underline",children:s.displayName}):s.displayName," ","(",s.createdAtFormatted,")"]})]}),t?e.jsxs(n.Form,{method:"POST",children:[e.jsx("input",{name:"connectionId",value:s.id,type:"hidden"}),e.jsx(r,{children:e.jsxs(a,{children:[e.jsx(c,{asChild:!0,children:e.jsx(u,{name:"intent",value:"delete-connection",variant:"destructive",size:"sm",status:n.state!=="idle"?"pending":n.data?.status??"idle",children:e.jsx(i,{name:"cross-1"})})}),e.jsx(l,{children:"Disconnect this account"})]})})]}):e.jsx(r,{children:e.jsxs(a,{open:d,onOpenChange:o,children:[e.jsx(c,{onClick:()=>o(!0),children:e.jsx(i,{name:"question-mark-circled"})}),e.jsx(l,{children:"You cannot delete your last connection unless you have a password."})]})})]})}export{E as default,O as handle};
//# sourceMappingURL=profile.connections-BJaoOpLv.js.map
