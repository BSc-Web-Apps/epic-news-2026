{
  "version": 3,
  "sources": ["../../server/utils/monitoring.ts"],
  "sourcesContent": ["import { PrismaInstrumentation } from '@prisma/instrumentation'\nimport { nodeProfilingIntegration } from '@sentry/profiling-node'\nimport * as Sentry from '@sentry/react-router'\n\nexport function init() {\n\tSentry.init({\n\t\tdsn: process.env.SENTRY_DSN,\n\t\tenvironment: process.env.NODE_ENV,\n\t\tdenyUrls: [\n\t\t\t/\\/resources\\/healthcheck/,\n\t\t\t// TODO: be smarter about the public assets...\n\t\t\t/\\/build\\//,\n\t\t\t/\\/favicons\\//,\n\t\t\t/\\/img\\//,\n\t\t\t/\\/fonts\\//,\n\t\t\t/\\/favicon.ico/,\n\t\t\t/\\/site\\.webmanifest/,\n\t\t],\n\t\tintegrations: [\n\t\t\tSentry.prismaIntegration({\n\t\t\t\tprismaInstrumentation: new PrismaInstrumentation(),\n\t\t\t}),\n\t\t\tSentry.httpIntegration(),\n\t\t\tnodeProfilingIntegration(),\n\t\t],\n\t\ttracesSampler(samplingContext) {\n\t\t\t// ignore healthcheck transactions by other services (consul, etc.)\n\t\t\tif (samplingContext.request?.url?.includes('/resources/healthcheck')) {\n\t\t\t\treturn 0\n\t\t\t}\n\t\t\treturn process.env.NODE_ENV === 'production' ? 1 : 0\n\t\t},\n\t\tbeforeSendTransaction(event) {\n\t\t\t// ignore all healthcheck related transactions\n\t\t\t//  note that name of header here is case-sensitive\n\t\t\tif (event.request?.headers?.['x-healthcheck'] === 'true') {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\treturn event\n\t\t},\n\t})\n}\n"],
  "mappings": "AAAA,SAAS,6BAA6B;AACtC,SAAS,gCAAgC;AACzC,YAAY,YAAY;AAEjB,SAAS,OAAO;AACtB,SAAO,KAAK;AAAA,IACX,KAAK,QAAQ,IAAI;AAAA,IACjB,aAAa,QAAQ,IAAI;AAAA,IACzB,UAAU;AAAA,MACT;AAAA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACD;AAAA,IACA,cAAc;AAAA,MACb,OAAO,kBAAkB;AAAA,QACxB,uBAAuB,IAAI,sBAAsB;AAAA,MAClD,CAAC;AAAA,MACD,OAAO,gBAAgB;AAAA,MACvB,yBAAyB;AAAA,IAC1B;AAAA,IACA,cAAc,iBAAiB;AAE9B,UAAI,gBAAgB,SAAS,KAAK,SAAS,wBAAwB,GAAG;AACrE,eAAO;AAAA,MACR;AACA,aAAO,QAAQ,IAAI,aAAa,eAAe,IAAI;AAAA,IACpD;AAAA,IACA,sBAAsB,OAAO;AAG5B,UAAI,MAAM,SAAS,UAAU,eAAe,MAAM,QAAQ;AACzD,eAAO;AAAA,MACR;AAEA,aAAO;AAAA,IACR;AAAA,EACD,CAAC;AACF;",
  "names": []
}
